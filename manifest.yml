---
memory: 512MB
declared-services:
  discovery-news-service:
    label: discovery
    plan: free
  cloudantNoSQLDB:
    label: cloudantNoSQLDB
    plan: Lite
applications:
- path: ./app
  name: watson-discovery-news-alerting
  buildpack: https://github.com/cloudfoundry/nodejs-buildpack#v1.5.35
  instances: 1
  random-route: false
  services:
  - cloudantNoSQLDB
  - discovery-news-service
- path: ./app
  name: watson-discovery-news-alert-notifier
  command: yarn run start-notifier
  no-route: true
  health-check-type: process
  buildpack: https://github.com/cloudfoundry/nodejs-buildpack#v1.5.35
  instances: 1
  services:
  - cloudantNoSQLDB
  - discovery-news-service
env:
  SLACK_API_TOKEN: placeholder
