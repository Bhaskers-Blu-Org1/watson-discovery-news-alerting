---
memory: 512MB
instances: 1
random-route: false
declared-services:
  discovery-news-service:
    label: discovery
    plan: free
  cloudantNoSQLDB:
    label: cloudantNoSQLDB
    plan: Lite
applications:
- name: watson-discovery-news-alerting
  path: ./app
  buildpack: https://github.com/cloudfoundry/nodejs-buildpack#v1.5.35
  services:
  - cloudantNoSQLDB
  - discovery-news-service
- name: watson-discovery-news-alert-notifier
  path: ./app
  command: yarn run start-notifier
  no-route: true
  health-check-type: process
  buildpack: https://github.com/cloudfoundry/nodejs-buildpack#v1.5.35
  services:
  - cloudantNoSQLDB
  - discovery-news-service
env:
  SLACK_API_TOKEN: placeholder
